<nav id="topnav" class="navbar">

  <a href="/myprofile"><i id="profilePicture" class="fas fa-user icon-cog"></i></a>

  <a id="title" class="navbar-brand" href="#">INSIDER</a>

  <div class="d-flex justify-content-end">
    <a href="/"><i id="home" class="faButton fas fa-home icon-cog"></i></a>
    <a href="/api/user"><i id="search" class="faButton fas fa-search icon-cog"></i></a>
    <a href="/"><i id="notifications" class="faButton fas fa-bolt icon-cog"></i></a>
    <a href="/"><i id="post" class="faButton fas fa-plus icon-cog"></i></a>
  </div>

</nav>

<div id="home">
  <div class="container">
    <div class="row">
      <div class="col-8 offset-2">

        {{!-- This part may have to be created in javascript
        using jQuery but theoretically this is where the posts
        would show --}}

        <div>
          <span id="profile-picture"></span>
        </div>

        <div>
          <span id="post"></span>
        </div>

      </div>
    </div>
  </div>
</div>

<!--Weather Theme Change-->
<div id="weather-function">
  <p id="weather-text">Change the page's theme based on the weather!</p>
  <p id="user-city"></p>
  <input type="text" id="weather-city" placeholder="Type in your city!">
  <br>
  <br>
  <button id="search-weather">Search</button>
  <button id="reset-color">Reset Theme</button>
</div>

<script>
  // Weather API
  $("#search-weather").on("click", function () {
    var userCity = $("#weather-city").val().toLowerCase()
    console.log(userCity)
    $.ajax({
      url: "https://cors-anywhere.herokuapp.com/api.openweathermap.org/data/2.5/weather?q=" + userCity + "&units=imperial&APPID=0aaf6ed86a35a5a59f48151fb51f3428",
      method: "GET"
    }).then(function (response) {
      console.log("######################################")
      console.log(response)
      var currentWeather = response.weather[0].main
      // $("#user-city").text("The city of " + userCity + "'s weather is currently " + currentWeather)
      console.log(currentWeather)
      if (currentWeather === "Clear") {
        $(".fa-cog").css("color", "lightblue")
        $("#title").css("color", "lightblue")
        $("#topnav").css("border-bottom-color", "lightblue")
        $("footer").css("border-top-color", "lightblue")
        $(".faButton").css("color", "lightblue")
        $("#profileFooter").css("color", "lightblue")
        $("#weather-text").css("color", "lightblue")
        $("#profilePicture").css("color", "lightblue")
        $("#user-city").css("color", "lightblue")
      } else if (currentWeather === "Clouds") {
        $(".fa-cog").css("color", "grey")
        $("#title").css("color", "grey")
        $("#topnav").css("border-bottom-color", "grey")
        $("footer").css("border-top-color", "grey")
        $(".faButton").css("color", "grey")
        $("#profileFooter").css("color", "grey")
        $("#weather-text").css("color", "grey")
        $("#profilePicture").css("color", "grey")
        $("#user-city").css("color", "grey")
      } else if (currentWeather === "Rain") {
        $(".fa-cog").css("color", "rgb(3, 74, 236)")
        $("#title").css("color", "rgb(3, 74, 236)")
        $("#topnav").css("border-bottom-color", "rgb(3, 74, 236)")
        $("footer").css("border-top-color", "rgb(3, 74, 236)")
        $(".faButton").css("color", "rgb(3, 74, 236)")
        $("#profileFooter").css("color", "rgb(3, 74, 236)")
        $("#weather-text").css("color", "rgb(3, 74, 236)")
        $("#profilePicture").css("color", "rgb(3, 74, 236)")
        $("#user-city").css("color", "rgb(3, 74, 236)")
      }
    })
  })

  // Returns to default color theme
  $("#reset-color").on("click", function () {
    $("#weather-city").val("")
    $(".fa-cog").css("color", "white")
    $("#title").css("color", "white")
    $("#topnav").css("border-bottom-color", "white")
    $("footer").css("border-top-color", "white")
    $(".faButton").css("color", "white")
    $("#profileFooter").css("color", "white")
    $("#weather-text").css("color", "white")
    $("#profilePicture").css("color", "white")
    $("#user-city").empty()
  })
</script>

<footer class="footer">
  <div class="container">
    <span class="text-muted">
      <div id="footerButtons" class="d-flex justify-content-between">
        <a href="/"><i id="homeFooter" class="faButton fas fa-home icon-cog"></i></a>
        <a href="/api/user"><i id="searchFooter" class="faButton fas fa-search icon-cog"></i></a>
        <a href="/"><i id="postFooter" class="faButton fas fa-plus icon-cog"></i></a>
        <a href="/"><i id="notificationsFooter" class="faButton fas fa-bolt icon-cog"></i></a>
        <a href="/myprofile"><i id="profileFooter" class="fas fa-user icon-cog"></i></a>
      </div>
    </span>
  </div>
</footer>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="/js/index.js"></script>